[build]
  publish = "public/"
  command = "npm run build"

[build.environment]
  NODE_VERSION = "18"

[functions]
  directory = "netlify/functions"
  node_bundler = "esbuild" # makes ESM/imports painless

[[plugins]]
  # Installs the Lighthouse Build Plugin for all deploy contexts
  package = "@netlify/plugin-lighthouse"

[[plugins]]
  package = "netlify-plugin-cache"

  [plugins.inputs]
  paths = [
    "public/assets/images", # Processed images
    "public/assets/fonts",  # Fonts (woff2, etc.)
    "public/assets/favicons", # Favicons
    "public/assets/svgs",   # Preloaded SVGs
    ".cache" # Remote Assets
  ]

